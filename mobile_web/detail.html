<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
    .hubble-container {
      max-width: 1366px;
      margin: 0 auto;

    }

    .hubble-main-content {
      width: 82%;
      box-shadow: 0 0 2px #ddd;
      padding: 0 50px;
      box-sizing: border-box;
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
    }

    .header {
      width:43%;
      float: left;
    }

    .header img {
      width: 100%;
    }
    .title{
      font-size: 0.24rem;
    }
  </style>
</head>

<body>

  <div class="hubble-container">
    <div class="title">哈勃致远</div>
    <div class="hubble-main-content">
      <div class="header">
        <img src="images/hubble.png" />
      </div>

      <div class="header">
        <img src="images/hubble_03.png" />
      </div>

      <div class="header">
        <img src="images/hubble.png" />
      </div>

      <div class="header">
        <img src="images/hubble_03.png" />
      </div>
    </div>
  </div>

</body>

</html>
<script>
  (function (_D) {
    var _self = {};
    _self.resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize';
    _self.Html = _D.getElementsByTagName("html")[0];
    // _self.widthProportion = function () {
    //   var p = Number((_D.body && _D.body.clientWidth || _self.Html.offsetWidth) / 720).toFixed(3);
    //   return p > 1.067 ? 1.067 : p < 0.444 ? 0.444 : p;
    // };
    _self.changePage = function () {
      var p = Number((_D.body && _D.body.clientWidth || _self.Html.offsetWidth) / 720).toFixed(3);
      var pp = p > 1.067 ? 1.067 : p < 0.444 ? 0.444 : p;
      
      if( p > 1.067){
        _self.Html.setAttribute("style", "font-size:" + "100" + "px");
      }else{
        _self.Html.setAttribute("style", "font-size:" + pp * 100 + "px");
      }
      _self.correctPx();
    };
    _self.correctPx = function () {
      var docEl = document.documentElement;
      var clientWidth = docEl.clientWidth;
      if (!clientWidth || clientWidth > 768) return;
      var div = document.createElement('div');
      div.style.width = '1.4rem';
      div.style.height = '0';
      document.body.appendChild(div);
      var ideal = 140 * clientWidth / 720;
      var rmd = (div.clientWidth / ideal);
      console.log(rmd);
      if (rmd > 1.2 || rmd < 0.8) {
        docEl.style.fontSize = 100 * (clientWidth / 720) / rmd + 'px';
        document.body.removeChild(div);
      }

    };
    _self.changePage();
    if (!document.addEventListener) return;
    window.addEventListener(_self.resizeEvt, _self.changePage, false);
    document.addEventListener('DOMContentLoaded', _self.changePage, false);
  })(document);

</script>