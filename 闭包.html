<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>闭包</title>
		<style>
			.num1,.num2,.num3{
				width:50px;
				height:50px;
			}
		</style>
	</head>
	<body>
		<div class="num1 num">1</div>
		<div class="num2 num">2</div>
		<div class="num3 num">3</div>
	</body>
</html>
<script type="text/javascript">
	var doms = document.getElementsByClassName('num');
	for(var i = 0; i < doms.length; i++){
		(function(i){
			doms[i].onclick = 
				debounce(function(){
					console.log('防抖成功')
				},1000);
			
		})(i)
	}

	//防抖

	function debounce(fn, wait) {  
		var timeout = null;   
		return function() {  
			if(timeout !== null)   clearTimeout(timeout);      
			timeout = setTimeout(fn, wait);
		}
	}
	
</script>