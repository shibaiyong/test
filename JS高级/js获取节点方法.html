<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>遍历方法</title>
  <style>
    p {
      font-weight: normal;
    }
  </style>
</head>

<body>

  <h3>1. 获取父节点的方式
    <h3>
      <p class="aaa bbb">一. parentNode获取父节点</p>
      <p>获取的是当前元素的直接父元素。parentNode是w3c的标准。</p>

      <p class="aaa">二. parentElement获取父节点</p>
      <p>parentElement和parentNode一样，只是parentElement是ie的标准。</p>

      <p class="aaa">var p1 = document.getElementById("id_value").parentElement;</p>

      <p>三. offsetParent获取所有父节点</p>
      <p>位置偏移量offset： 其实这个是于位置有关的上下级关系 ，直接能够获取到所有父亲节点， 这个对应的值是body下的所有元素节点信息。</p>
      <h3>2. querySelector方法，强烈推荐！
        <h3>

          <p>querySelector()的参数是css选择器，包括伪类选择器(:first-child、:nth-child()...)</p>

          <p>例如：选择某个类名下的第一个子元素document.querySelector('.test > *'),或者指定元素document.querySelector('.test > span')</p>

          <div id="parent">

            <div class="child" style="display:none;">1</div>

            <div class="child">2</div>

            <div class="child">3</div>
            <div class="child">4</div>

            <div class="child">5</div>
          </div>
</body>

</html>
<script>
  let eles = document.getElementsByClassName('child')
  let parent = document.getElementById('parent')
  //childNodes 选择父节点中所有的一级孩子节点，包括文本节点，dom节点等所有类型的节点
  let childNodes = parent.childNodes
  let children = parent.children
  let querySelectorEles = document.querySelectorAll('.aaa')
  //let eles = document.getElementsByClassName('aaa')
  // console.log(children)
  children[0].onclick = function () {
    alert()
  }
  //从数组的0下标开始，一边循环，一边删除时，数组或集合长度动态变化，会漏删一些元素。
  //所以，从后往前删除。
  for (let j = eles.length - 1; j >= 0; j--) {
    //console.log(eles[j])
    //eles[j].remove()
  }

  //获取子节点 
  for (let i = 0; i < childNodes.length; i++) {
    //节点类型
    let nodeType = childNodes[i].nodeType
    // console.log('childNodes : ')
    // console.log(childNodes[i])
  }
  for (let i = 0; i < children.length; i++) {
    //节点类型
    let nodeType = children[i].nodeType
    // console.log('children :')
    //console.log(children[i])
  }
  // console.log(1); 
  // setTimeout(function () { console.log(2); }, 0); 
  // new Promise(resolve => { console.log(3); resolve(); console.log(4); }).then(() => { console.log(5); });
  // console.log(6);
  //1 3 4 6 5 2
  var name = 1 
  function test() { 
    var name = 2 
    console.log(this.name) 
    return function inner() { 
      console.log(name) 
    } 
  }
  test() 
  test()() 
  var b = { name: 3 }
  b.test = test 
  b.test() 
  var c = b.test 
  c() 
  new test() 
  
</script>